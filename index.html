<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ruang galau | Keii Official</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: #0a0c15;
            color: #e5e9f0;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* ===== HALAMAN LOADING (INPUT NAMA) ===== */
        #intro-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100vh;
            background: #0b0f1a;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            padding: 30px 20px;
            overflow-y: auto;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .intro-content {
            max-width: 500px;
            margin: 0 auto;
            width: 100%;
            padding: 20px 0 50px;
        }

        .intro-title {
            font-size: 2.2rem;
            font-weight: 600;
            background: linear-gradient(135deg, #b0d0ff, #d9b0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 30px 0 15px;
            letter-spacing: -0.5px;
        }

        .intro-sub {
            color: #9bb5d9;
            font-size: 1.1rem;
            margin-bottom: 40px;
            border-left: 4px solid #3f7bcb;
            padding-left: 20px;
        }

        .form-group {
            margin: 30px 0;
        }

        .form-label {
            display: block;
            margin-bottom: 12px;
            color: #c0d4f0;
            font-size: 1.1rem;
        }

        .form-input {
            width: 100%;
            background: rgba(20, 30, 50, 0.7);
            border: 2px solid #2f5690;
            border-radius: 50px;
            padding: 18px 25px;
            font-size: 1.2rem;
            color: white;
            outline: none;
            transition: 0.2s;
        }

        .form-input:focus {
            border-color: #3a8cff;
            box-shadow: 0 0 25px #3a8cff99;
        }

        .btn-masuk {
            background: #1f3f68;
            border: none;
            border-radius: 60px;
            padding: 18px 30px;
            font-size: 1.4rem;
            font-weight: 600;
            color: white;
            width: 100%;
            margin: 20px 0 40px;
            border: 2px solid #5f9eff;
            transition: 0.2s;
        }

        .btn-masuk:active {
            background: #2b5580;
            transform: scale(0.98);
        }

        .intro-quote {
            background: #131e30;
            padding: 25px;
            border-radius: 30px;
            margin: 40px 0;
            font-style: italic;
            color: #b9d4fc;
            font-size: 1.1rem;
            border-left: 6px solid #4a8fe0;
        }

        .intro-footer {
            text-align: center;
            color: #5f7ca5;
            font-size: 0.95rem;
            margin-top: 50px;
            padding: 20px 0;
            border-top: 1px solid #253a55;
        }

        /* ===== HALAMAN UTAMA (SCROLL BEBAS) ===== */
        #main-page {
            position: relative;
            min-height: 100vh;
            background: #0a0c15;
            padding: 20px 16px 30px;
            display: none;
            flex-direction: column;
        }

        #main-page.visible {
            display: block;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
        }

        /* Header dengan nama user */
        .header-card {
            background: #131e30dd;
            backdrop-filter: blur(8px);
            border: 2px solid #2d5080;
            border-radius: 40px;
            padding: 25px 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px #00000080;
        }

        .greeting {
            font-size: 1.3rem;
            color: #bfdcff;
            margin-bottom: 8px;
        }

        .user-name {
            font-size: 2.2rem;
            font-weight: 700;
            color: white;
            text-shadow: 0 0 15px #0099ff;
            word-break: break-word;
        }

        .user-mood {
            font-size: 2rem;
            margin-top: 15px;
            filter: drop-shadow(0 0 12px cyan);
        }

        /* Quote box */
        .quote-box {
            background: #0f1b2b;
            border-radius: 30px;
            padding: 30px 25px;
            margin: 25px 0;
            border-left: 8px solid #3b82f6;
            border-right: 3px solid #1e4b8f;
        }

        .quote-text {
            font-size: 1.3rem;
            line-height: 1.7;
            font-style: italic;
            color: #e2edff;
            transition: opacity 0.3s;
            min-height: 120px;
            display: flex;
            align-items: center;
        }

        .quote-source {
            text-align: right;
            color: #7aa5d9;
            margin-top: 20px;
            font-size: 1rem;
        }

        /* Tombol */
        .button-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 30px 0;
        }

        .btn {
            background: #152a40;
            border: 2px solid #2f66a5;
            color: #d3e6ff;
            padding: 16px 0;
            border-radius: 60px;
            font-size: 1.2rem;
            font-weight: 600;
            flex: 1 1 140px;
            text-align: center;
            transition: 0.2s;
        }

        .btn:active {
            background: #1d3e62;
            transform: scale(0.97);
        }

        /* Musik section */
        .music-section {
            background: #0d1a28;
            border-radius: 40px;
            padding: 25px 20px;
            margin: 30px 0;
        }

        .music-title {
            font-size: 1.4rem;
            color: #b3d9ff;
            margin-bottom: 25px;
            text-align: center;
        }

        .music-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .music-card {
            background: #11263b;
            border: 2px solid #2d6090;
            border-radius: 60px;
            padding: 18px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
            transition: 0.2s;
        }

        .music-card:active {
            background: #1b3b5c;
            transform: scale(0.99);
        }

        .music-card.playing {
            border-color: #00d0ff;
            background: #1e4370;
            box-shadow: 0 0 25px #00a6ff;
        }

        .music-icon {
            font-size: 2.2rem;
            min-width: 50px;
            text-align: center;
        }

        .music-info {
            flex: 1;
        }

        .music-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: #c8e1ff;
        }

        .music-artist {
            font-size: 0.9rem;
            color: #789dc9;
        }

        .now-playing-bar {
            background: #071725;
            border-radius: 40px;
            padding: 18px 20px;
            margin: 20px 0 5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 2px solid #335d8a;
        }

        .now-playing-text {
            font-size: 1rem;
            color: #b0ceff;
        }

        .player-controls {
            display: flex;
            gap: 20px;
        }

        .player-controls span {
            font-size: 2rem;
        }

        /* Catatan */
        .diary-box {
            background: #0f1b2b;
            border-radius: 35px;
            padding: 25px;
            margin: 30px 0;
        }

        .diary-label {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #c5ddff;
        }

        .diary-input {
            width: 100%;
            background: #1f3147;
            border: 2px solid #335d96;
            border-radius: 30px;
            padding: 20px;
            font-size: 1.1rem;
            color: white;
            font-family: inherit;
            resize: vertical;
            margin-bottom: 20px;
        }

        .diary-input:focus {
            border-color: #4a9eff;
            outline: none;
        }

        .btn-simpan {
            background: #1b3a5c;
            border: 2px solid #4f8fd9;
            color: white;
            padding: 16px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            width: 100%;
            margin-bottom: 20px;
        }

        .saved-notes {
            background: #11273d;
            border-radius: 25px;
            padding: 20px;
            max-height: 200px;
            overflow-y: auto;
        }

        .note-item {
            padding: 15px 10px;
            border-bottom: 2px solid #244f77;
            color: #d0e3ff;
        }

        /* Footer kredit */
        .footer-credit {
            margin-top: 50px;
            padding: 30px 0 20px;
            text-align: center;
            border-top: 3px solid #203b57;
            color: #6f96c0;
            font-size: 1rem;
        }

        .dev-name-credit {
            font-weight: 700;
            color: #b5d6ff;
            margin-top: 8px;
            letter-spacing: 2px;
        }

        audio { display: none; }
    </style>
</head>
<body>

<!-- HALAMAN INTRO: ISI NAMA DULU (bisa di-scroll) -->
<div id="intro-page">
    <div class="intro-content">
        <div class="intro-title">üåßÔ∏è ruang galau</div>
        <div class="intro-sub">untuk hati yang lelah, untuk luka yang tersembunyi</div>
        
        <div class="intro-quote">
            ‚ÄúAku mencintaimu dengan tulus, tapi aku juga mencintai diriku dengan meninggalkanmu.‚Äù
            <div style="margin-top:15px; color:#88b0dd;">‚Äî galau</div>
        </div>
        
        <div class="form-group">
            <div class="form-label">siapa nama kamu? (boleh nama samaran)</div>
            <input type="text" class="form-input" id="namaInput" placeholder="cth: hujan, sepi, atau namamu" autocomplete="off">
        </div>
        
        <button class="btn-masuk" id="masukBtn">masuk ke ruang galau</button>
        
        <!-- Ini loading teks yang diminta: Developer Website : Keii Official (ada di bawah) -->
        <div class="intro-footer">
            <div>Developer Website : Keii Official</div>
            <div style="font-size:0.85rem; margin-top: 12px;">¬© 2026 ‚Ä¢ ruang aman untuk hatimu</div>
        </div>
    </div>
</div>
<!-- HALAMAN UTAMA (setelah masuk) -->
<div id="main-page">
    <div class="container">
        <!-- Header nama -->
        <div class="header-card">
            <div class="greeting">hai,</div>
            <div class="user-name" id="displayName">...</div>
            <div class="user-mood">üíîüåßÔ∏èü•Ä</div>
        </div>

        <!-- Kutipan besar -->
        <div class="quote-box">
            <div class="quote-text" id="quoteDisplay">"Kita bertemu untuk saling mengukir luka, lalu pergi tanpa pamit."</div>
            <div class="quote-source" id="quoteSource">‚Äî galau</div>
        </div>

        <!-- Tombol galau / semangat / dalam -->
        <div class="button-row">
            <div class="btn" id="btnGalau">üåßÔ∏è galau</div>
            <div class="btn" id="btnSemangat">üå§Ô∏è semangat</div>
            <div class="btn" id="btnDalam">üåÄ dalam</div>
        </div>

        <!-- MUSIK dengan link dari kakak -->
        <div class="music-section">
            <div class="music-title">pilih lagu pengiring galau</div>
            <div class="music-grid">
                <!-- Lagu 1 -->
                <div class="music-card" id="track1">
                    <div class="music-icon">üéß</div>
                    <div class="music-info">
                        <div class="music-name">Hingga Tua Bersama Mu</div>
                        <div class="music-artist">‚Äî rindu yang tertunda</div>
                    </div>
                </div>
                <!-- Lagu 2 -->
                <div class="music-card" id="track2">
                    <div class="music-icon">üíî</div>
                    <div class="music-info">
                        <div class="music-name">Bilang Kalo Bosen</div>
                        <div class="music-artist">‚Äî akhir yang lelah</div>
                    </div>
                </div>
                <!-- Lagu 3 -->
                <div class="music-card" id="track3">
                    <div class="music-icon">üïØÔ∏è</div>
                    <div class="music-info">
                        <div class="music-name">Bilang Pada Tuhanmu</div>
                        <div class="music-artist">‚Äî pasrah</div>
                    </div>
                </div>
                <!-- Lagu 4 -->
                <div class="music-card" id="track4">
                    <div class="music-icon">üåä</div>
                    <div class="music-info">
                        <div class="music-name">Percayakan Rindu</div>
                        <div class="music-artist">‚Äî percayakan saja</div>
                    </div>
                </div>
            </div>

            <!-- Audio elements (tersembunyi) -->
            <audio id="audio1" preload="metadata" src="https://files.catbox.moe/egupev.mp3"></audio>
            <audio id="audio2" preload="metadata" src="https://files.catbox.moe/xjer74.mp3"></audio>
            <audio id="audio3" preload="metadata" src="https://files.catbox.moe/gyjjt4.mp3"></audio>
            <audio id="audio4" preload="metadata" src="https://files.catbox.moe/qxcfnc.mp3"></audio>

            <!-- Now playing bar -->
            <div class="now-playing-bar">
                <span class="now-playing-text" id="nowPlaying">üîá pilih lagu</span>
                <div class="player-controls">
                    <span id="playPauseBtn">‚èØÔ∏è</span>
                    <span id="stopBtn">‚èπÔ∏è</span>
                </div>
            </div>
        </div>

        <!-- Catatan galau -->
        <div class="diary-box">
            <div class="diary-label">üìù tulis apa yang kamu rasakan</div>
            <textarea class="diary-input" id="diaryInput" rows="3" placeholder="misal: hari ini aku kangen..."></textarea>
            <button class="btn-simpan" id="simpanBtn">simpan catatan</button>
            <div class="saved-notes" id="savedContainer">
                <div class="note-item">‚ú® catatanmu akan muncul di sini</div>
            </div>
        </div>

        <!-- FOOTER dengan tulisan "Developer Website : Keii Official" (di bawah) -->
        <div class="footer-credit">
            <div>Developer Website : Keii Official</div>
            <div class="dev-name-credit">Keii Official</div>
            <div style="margin-top: 15px; font-size:0.9rem;">üåßÔ∏è untuk yang sedang terluka</div>
        </div>
    </div>
</div>

<script>
    (function() {
        // KUMPULAN QUOTES
        const quotesGalau = [
            "‚ÄúAku hanya ingin didengar, bukan dihakimi. Tapi kamu selalu pergi sebelum aku selesai bicara.‚Äù",
            "‚ÄúRasanya seperti kehilangan di tengah keramaian. Semua orang tertawa, tapi aku hancur.‚Äù",
            "‚ÄúAku merindukanmu, tapi aku juga lelah. Lelah memikirkan kamu yang mungkin tidak memikirkan aku.‚Äù",
            "‚ÄúKita bertemu sebagai orang asing, bersama sebagai teman, dan berpisah sebagai dua orang yang saling menyimpan luka.‚Äù",
            "‚ÄúJanjimu selebar langit, tapi kenyataan setajam sembilu.‚Äù",
            "‚ÄúKamu adalah rumah yang tak pernah mau kutinggali lagi.‚Äù",
            "‚ÄúAku mencoba melupakannya, tapi otakku dengan setia menyimpan ribuan kenangan tentangnya.‚Äù",
            "‚ÄúSendiri itu sunyi, tapi bersama yang salah lebih perih rasanya.‚Äù",
            "‚ÄúPelukanku hanya untukmu, tapi kamu tak pernah ada.‚Äù",
            "‚ÄúAku baik-baik saja. Hanya saja, hatinya sedang hujan dan tak kunjung reda.‚Äù",
            "‚ÄúKita menari di antara dua pilihan: move on atau bertahan dalam luka yang sama.‚Äù",
            "‚ÄúKita berpisah bukan karena tidak cinta, tapi karena lelah mempertahankan yang tak pasti.‚Äù",
            "‚ÄúAda yang bertahan dengan pergi, ada yang pergi dengan meninggalkan luka menganga.‚Äù",
            "‚ÄúApakah kamu bahagia? Semoga. Meski bukan denganku.‚Äù",
            "‚ÄúKenangan itu seperti racun, perlahan tapi pasti melumpuhkan langkah.‚Äù",
            "‚ÄúJika rindu bisa dibakar, aku sudah jadi abu yang bertebaran di angin.‚Äù",
            "‚ÄúMaaf, aku masih menyimpan pesan lama yang tak pernah kamu balas.‚Äù",
            "‚ÄúAda yang salah dengan caraku mencintai, atau memang kamu yang tak ingin dicintai?‚Äù",
            "‚ÄúAku hanyalah persinggahan, bukan tujuan. Dan kamu terus melaju tanpa menoleh.‚Äù",
            "‚ÄúSampai kapan aku harus kuat, sementara hatiku terus berdarah?‚Äù",
            "‚ÄúMencintaimu adalah keputusan terberat yang pernah aku ambil.‚Äù",
            "‚ÄúKau adalah cerita indah yang berakhir buruk.‚Äù",
            "‚ÄúKata-katamu dulu sehangat mentari, sekarang setajam pisau.‚Äù",
            "‚ÄúKita adalah dua insan yang saling menyimpan rindu tapi tak bisa bersatu.‚Äù"
        ];

        const quotesSemangat = [
            "‚ÄúMenangislah jika perlu, tapi ingatlah pelangi selalu datang setelah hujan.‚Äù",
            "‚ÄúSakit itu wajar, tapi menyerah bukan pilihan.‚Äù",
            "‚ÄúJangan pernah kau nilai dirimu rendah hanya karena seseorang tak bisa melihat nilaimu.‚Äù",
            "‚ÄúLuka akan sembuh, meski meninggalkan bekas. Tapi bekas itulah yang mengajarkan kita arti hati-hati.‚Äù",
            "‚ÄúKamu kuat. Kamu bertahan sampai detik ini. Itu hebat.‚Äù",
            "‚ÄúBersedihlah, tapi jangan tinggal di dalamnya. Dunia masih menunggu senyummu.‚Äù",
            "‚ÄúTidak semua orang akan tinggal. Tapi percayalah, akan ada yang datang dan memilihmu seutuhnya.‚Äù",
            "‚ÄúJangan takut untuk merasa patah, karena dari situlah kita belajar cara bertumbuh.‚Äù",
            "‚ÄúHari ini berat, tapi esok pasti ada. Jangan berhenti.‚Äù",
            "‚ÄúKamu tidak sendiri. Ada Tuhan, ada kamu, ada masa depan yang menanti.‚Äù",
            "‚ÄúApa yang patah bisa diperbaiki. Apa yang retak bisa diperkuat. Termasuk hati.‚Äù",
            "‚ÄúKamu berhak untuk bahagia, meski hari ini rasanya mustahil.‚Äù",
            "‚ÄúPelan-pelan saja, tidak apa-apa. Yang penting kamu terus berjalan.‚Äù",
            "‚ÄúJika capek, istirahat. Tapi jangan berhenti.‚Äù",
            "‚ÄúHujan reda, langit cerah. Hatimu juga akan reda.‚Äù",
            "‚ÄúJangan biarkan masa lalu menyandera masa depanmu.‚Äù",
            "‚ÄúKamu layak dicintai, terutama oleh dirimu sendiri.‚Äù",
            "‚ÄúTersenyumlah, meski hati menangis. Tuhan melihat perjuanganmu.‚Äù"
        ];

        const quotesDalam = [
            "‚ÄúDi dalam sunyi, aku mendengar suaraku sendiri berkata: 'Kamu berharga, meski tak dipilih'.‚Äù",
            "‚ÄúAku memaafkanmu, tapi aku juga memaafkan diriku yang dulu terlalu bertahan.‚Äù",
            "‚ÄúRasa sakit ini mungkin tidak akan hilang sepenuhnya, tapi aku belajar hidup dengannya.‚Äù",
            "‚ÄúKepergianmu mengajarkanku bahwa tidak semua orang ditakdirkan untuk bersama.‚Äù",
            "‚ÄúKadang aku bertanya, apa aku seburuk itu sampai kamu semudah itu pergi?‚Äù",
            "‚ÄúTuhan, jika dia bukan milikku, tolong hapus namanya dari doa-doaku.‚Äù",
            "‚ÄúAku pasrah, tapi aku juga berharap. Rasanya seperti berjalan di tali tipis.‚Äù",
            "‚ÄúMungkin aku memang harus kehilangan, untuk menemukan diriku yang sebenarnya.‚Äù",
            "‚ÄúAku mencintaimu dengan tulus, tapi aku juga mencintai diriku dengan meninggalkanmu.‚Äù",
            "‚ÄúAda kedamaian dalam menerima bahwa beberapa hal memang tidak bisa dipaksakan.‚Äù"
        ];

        // Gabungan
        const allGalau = quotesGalau.concat(quotesDalam);

        // State
        let currentTrack = null;
        let isPlaying = false;
        let currentAudio = null;

        // Elemen
        const introPage = document.getElementById('intro-page');
        const mainPage = document.getElementById('main-page');
        const namaInput = document.getElementById('namaInput');
        const masukBtn = document.getElementById('masukBtn');
        const displayName = document.getElementById('displayName');
        const quoteDisplay = document.getElementById('quoteDisplay');
        const quoteSource = document.getElementById('quoteSource');
        const btnGalau = document.getElementById('btnGalau');
        const btnSemangat = document.getElementById('btnSemangat');
        const btnDalam = document.getElementById('btnDalam');

        // Audio elements
        const audio1 = document.getElementById('audio1');
        const audio2 = document.getElementById('audio2');
        const audio3 = document.getElementById('audio3');
        const audio4 = document.getElementById('audio4');
        const audioElements = { '1': audio1, '2': audio2, '3': audio3, '4': audio4 };

        // Track elements
        const track1 = document.getElementById('track1');
        const track2 = document.getElementById('track2');
        const track3 = document.getElementById('track3');
        const track4 = document.getElementById('track4');
        const nowPlaying = document.getElementById('nowPlaying');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const stopBtn = document.getElementById('stopBtn');

        // Catatan
        const diaryInput = document.getElementById('diaryInput');
        const simpanBtn = document.getElementById('simpanBtn');
        const savedContainer = document.getElementById('savedContainer');
        let notes = JSON.parse(localStorage.getItem('keiiNotes')) || [];

        // ========== FUNGSI ==========
        function showMainPage(name) {
            displayName.innerText = name || 'yang tersakiti';
            introPage.style.opacity = '0';
            setTimeout(() => {
                introPage.style.visibility = 'hidden';
                mainPage.classList.add('visible');
            }, 500);
        }
        function getRandomQuote(type) {
            if (type === 'galau') return allGalau[Math.floor(Math.random() * allGalau.length)];
            if (type === 'semangat') return quotesSemangat[Math.floor(Math.random() * quotesSemangat.length)];
            if (type === 'dalam') return quotesDalam[Math.floor(Math.random() * quotesDalam.length)];
            return allGalau[0];
        }

        function updateQuote(type) {
            quoteDisplay.style.opacity = '0.3';
            setTimeout(() => {
                quoteDisplay.innerText = getRandomQuote(type);
                quoteSource.innerText = type === 'galau' ? '‚Äî galau' : (type === 'semangat' ? '‚Äî semangat' : '‚Äî dari dalam');
                quoteDisplay.style.opacity = '1';
            }, 150);
        }

        // Musik
        function resetTrackStyles() {
            track1.classList.remove('playing');
            track2.classList.remove('playing');
            track3.classList.remove('playing');
            track4.classList.remove('playing');
        }

        function stopAllAudio() {
            for (let key in audioElements) {
                audioElements[key].pause();
                audioElements[key].currentTime = 0;
            }
            currentAudio = null;
            isPlaying = false;
            currentTrack = null;
            nowPlaying.innerText = 'üîá pilih lagu';
        }

        function getTrackName(id) {
            const names = { '1': 'Hingga Tua Bersama Mu', '2': 'Bilang Kalo Bosen', '3': 'Bilang Pada Tuhanmu', '4': 'Percayakan Rindu' };
            return names[id];
        }

        function playTrack(id) {
            if (currentTrack === id && isPlaying) {
                audioElements[id].pause();
                isPlaying = false;
                nowPlaying.innerText = `‚è∏Ô∏è dijeda: ${getTrackName(id)}`;
                resetTrackStyles();
                document.getElementById(`track${id}`).classList.add('playing');
                return;
            }
            stopAllAudio();
            let audio = audioElements[id];
            audio.play().catch(() => { nowPlaying.innerText = '‚ùå error'; });
            currentAudio = audio;
            currentTrack = id;
            isPlaying = true;
            resetTrackStyles();
            document.getElementById(`track${id}`).classList.add('playing');
            nowPlaying.innerText = `üéµ ${getTrackName(id)}`;
        }

        // Catatan
        function renderNotes() {
            if (notes.length === 0) {
                savedContainer.innerHTML = '<div class="note-item">‚ú® catatanmu akan muncul di sini</div>';
                return;
            }
            savedContainer.innerHTML = notes.map(n => `<div class="note-item">üíî ${n}</div>`).join('');
        }

        function saveNote() {
            const text = diaryInput.value.trim();
            if (!text) return;
            notes.unshift(text);
            if (notes.length > 8) notes.pop();
            localStorage.setItem('keiiNotes', JSON.stringify(notes));
            renderNotes();
            diaryInput.value = '';
        }

        // ===== EVENT =====
        masukBtn.addEventListener('click', () => {
            const name = namaInput.value.trim();
            showMainPage(name);
        });

        namaInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') masukBtn.click();
        });

        btnGalau.addEventListener('click', () => updateQuote('galau'));
        btnSemangat.addEventListener('click', () => updateQuote('semangat'));
        btnDalam.addEventListener('click', () => updateQuote('dalam'));

        track1.addEventListener('click', () => playTrack('1'));
        track2.addEventListener('click', () => playTrack('2'));
        track3.addEventListener('click', () => playTrack('3'));
        track4.addEventListener('click', () => playTrack('4'));

        playPauseBtn.addEventListener('click', () => {
            if (!currentAudio) { playTrack('1'); return; }
            if (isPlaying) {
                currentAudio.pause();
                isPlaying = false;
                nowPlaying.innerText = `‚è∏Ô∏è dijeda: ${getTrackName(currentTrack)}`;
            } else {
                currentAudio.play().catch(() => {});
                isPlaying = true;
                nowPlaying.innerText = `üéµ ${getTrackName(currentTrack)}`;
            }
        });

        stopBtn.addEventListener('click', () => {
            stopAllAudio();
            resetTrackStyles();
        });

        simpanBtn.addEventListener('click', saveNote);

        window.addEventListener('load', () => {
            renderNotes();
            updateQuote('galau');
        });

        // Saat lagu selesai
        for (let key in audioElements) {
            audioElements[key].addEventListener('ended', () => {
                resetTrackStyles();
                nowPlaying.innerText = 'üîá selesai';
                isPlaying = false;
                currentTrack = null;
                currentAudio = null;
            });
        }
    })();
</script>
</body>
</html>
